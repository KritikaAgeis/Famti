<odoo>
    <record id="mrp_production_form_inherit_serial" model="ir.ui.view">
        <field name="name">mrp.production.form.serial.rename</field>
        <field name="model">mrp.production</field>
        <field name="inherit_id" ref="mrp.mrp_production_form_view"/>
        <field name="arch" type="xml">

            <xpath expr="//form/header" position="inside">
                <button
                    name="action_open_split_lots_wizard"
                    type="object"
                    string="Split Lots"
                    class="btn-primary"
                    invisible="state not in ['confirmed','progress','to_close']"
                />
            </xpath>

            <xpath expr="//button[@name='action_start']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            
            <xpath expr="//field[@name='lot_producing_id']" position="attributes">
                <attribute name="string">Serial Number</attribute>
                <attribute name="invisible">mo_serial_no != 1</attribute>
            </xpath>

            <xpath expr="//label[@for='lot_producing_id']" position="attributes">
                <attribute name="invisible">mo_serial_no != 1</attribute>
            </xpath>
            <xpath expr="//button[@name='action_generate_serial']" position="attributes">
                <attribute name="invisible">mo_serial_no != 1</attribute>
            </xpath>
            
            <xpath expr="//field[@name='product_id']" position="after">
                <field name="product_code"/>
            </xpath>

            <xpath expr="//page[@name='finished_products']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>

            <xpath expr="//notebook" position="inside">
                <page string="Serial / Batch Details">
                    <field name="serial_line_ids">
                        <list editable="bottom">
                            <field name="serial_number"/>
                            <field name="location_id"/>
                            <field name="thickness" optional="hide" required="1"/>
                            <field name="thickness_uom" optional="hide"/>
                            <field name="width" optional="hide" required="1"/>
                            <field name="width_uom" optional="hide"/>
                            <field name="core_id" optional="hide" required="1"/>
                            <field name="length" optional="hide" required="1"/>
                            <field name="length_uom" optional="hide"/>
                            <field name="total_input"/>
                            <!-- <field name="total_output"/> -->
                            <field name="quantity" string="Output"/>
                            <field name="uom_id"/>
                            <field name="total_scrap"/>
                            <field name="grade_type"/>
                        </list>
                    </field>
                </page>
                <page string="Scrap Details">
                    <field name="scrap_line_ids">
                        <list editable="bottom">
                            <field name="serial_number"/>
                            <field name="source_location_id"/>
                            <field name="location_id"/>
                            <field name="thickness" optional="hide"/>
                            <field name="thickness_uom" optional="hide"/>
                            <field name="width" optional="hide"/>
                            <field name="width_uom" optional="hide"/>
                            <field name="core_id" optional="hide"/>
                            <field name="length" optional="hide"/>
                            <field name="length_uom" optional="hide"/>
                            <field name="quantity"/>
                            <field name="uom_id"/>
                            <field name="scrap_reason_tag_ids" widget="many2many_tags" optional="hide"/>  
                        </list>
                    </field>
                </page>

            </xpath>
            <xpath expr="//page[@name='components']" position="after">
                <page string="Consumables">
                    <field name="consumable_line_ids">
                        <list editable="bottom">
                            <field name="product_id"/>
                            <field name="location_id"/>
                            <field name="quantity"/>
                            <field name="uom_id"/>                            
                        </list>
                    </field>
                </page>
            </xpath>
            <xpath expr="//page[@name='miscellaneous']//field[@name='location_src_id'][1]" position="after">
                <field name="scrap_location_id"
                    domain="[('scrap_location', '=', True)]"
                    options="{'no_create': True}"
                    readonly="state != 'draft'"/>
            </xpath>
        </field>
    </record>


<!--    <record id="mrp_workcenter_form_inherit_serial" model="ir.ui.view">-->
<!--        <field name="name">mrp.workcenter.form</field>-->
<!--        <field name="model">mrp.workcenter</field>-->
<!--        <field name="inherit_id" ref="mrp.mrp_workcenter_view"/>-->
<!--        <field name="arch" type="xml">-->
<!--            <xpath expr="//field[@name='code']" position="after">-->
<!--                <attribute name="serial_code">Serial Number</attribute>-->
<!--            </xpath>-->
<!--        </field>-->
<!--    </record>-->



</odoo>
